<app-subheader selectedMenuName="Pipeline ID: {{pipeid}}" [actions]="menubarItems" backRoute="/pipelines" (deleteChannelEvent)="onDeletePipelines()"></app-subheader>

<app-delete [visible]="visibleDialog" [items]="[{'id': pipeid}]" [itemLabel]="'pipeline'" [idField]="'id'"
(deleteConfirmed)="onDeletePipelines()" (cancel)="visibleDialog = false"></app-delete>

<div class="main-content">
    <div class="mb-3">
        <button pButton (click)="onStartSpinner()" pTooltip="Start Pipeline" tooltipPosition="bottom" class="mr-1" [disabled]="isStarting">
            <span *ngIf="!isStarting" class="pi pi-play-circle text-xl"></span>
            <span *ngIf="isStarting" class="pi pi-spin pi-spinner text-xl"></span>
        </button>
        <button pButton (click)="onStopSpinner()" pTooltip="Stop Pipeline" tooltipPosition="bottom" class="mr-4" [disabled]="isStopping">
            <span *ngIf="!isStopping" class="pi pi-stop-circle text-xl"></span>
            <span *ngIf="isStopping" class="pi pi-spin pi-spinner text-xl"></span>
        </button>
        <button pButton (click)="onReloadDetails()" pTooltip="Reload Details" tooltipPosition="bottom" [disabled]="isLoading">
            <span *ngIf="!isLoading" class="pi pi-sync text-xl"></span>
            <span *ngIf="isLoading" class="pi pi-spin pi-spinner text-xl"></span>
        </button>
    </div>
    <p-table [value]="details" [tableStyle]="{ 'min-width': '10rem' }">
        <ng-template pTemplate="body"  let-detail>
            <tr>
                <td style="max-width: 25rem; width:15rem">{{ detail[0] }}</td>
                <td>{{ detail[1] }}</td>
            </tr>
        </ng-template>
    </p-table>
</div>