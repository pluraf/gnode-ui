<app-subheader selectedMenuName="Channels" [actions]="menubarItems" ></app-subheader>
<app-channel-delete  [visible]="visibleDialog" [channels]="selectedChannels" (deleteConfirmed)="onDeleteChannel()" (cancel)="visibleDialog = false"></app-channel-delete>

<div class="main-content">
  <p-table [value]="channelList" selectionMode="multiple" [(selection)]="selectedChannels" dataKey="id" [paginator]="true" [rows]="5" [rowsPerPageOptions]="[5, 10, 30]" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
      <tr>
        <th style="width: 4rem"><p-tableHeaderCheckbox name="checkbox" /></th>
        <th >Channel ID</th>
        <th >Communication</th>
        <th >Last Seen</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" class="channel" let-channel>
      <tr>
        <td ><p-tableCheckbox name="checkbox" [value]="channel" /></td>
        <td ><a routerLink="/channel/{{channel.id}}">{{ channel.id }}</a></td>
        <td class="communicationBox" >
          @if(channel.communication === 'Allowed'){
              <svg class="comm-svg-icon" viewBox="0 0 24 24" fill="green" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
              </svg>
          }@else if(channel.communication === 'Blocked'){
              <svg class="comm-svg-icon" viewBox="0 0 24 24" fill="gray" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
              </svg>
          }
          {{ channel.communication }}
        </td>
        <td>{{ channel.lastseen }}</td>
      </tr>
    </ng-template>
  </p-table>
</div>
